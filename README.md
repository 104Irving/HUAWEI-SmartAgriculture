## 项目名称
>   000872-智慧农业


## 运行条件
> 列出运行该项目所必须的条件和相关依赖  
* Oracle OpenJDK Java19
* OpenHarmony Arkts API9
* MyBatis
* Maven
* MySQL8
* IDEA IntelliJ IDEA 2023.3.3及更高版本
* DevEco Studio
* Arduino
* esp32开发板
* TomCat服务器
* Mqtt服务器



## 运行说明
> 说明如何运行和使用你的项目，建议给出具体的步骤说明
* 第一步，Maven自动配置好环境依赖后运行后端程序，后端程序可在IDE里运行或者打包放入TomCat服务器运行
* 第二步，启动Mqtt服务器
* 第三步，启动硬件将数据初始化（这一步不影响前后端通信，因为数据库不为空，所以仅影响数据）
* 第四步，前端登陆

## 功能说明
> 说明项目的主要功能
* 布局：为了适应现代农业的特性，我们将模拟模型规划为温室区、开放土壤、中控区。
           为了实现功能演示的多样性，我们将温室区布置为了水培种植模式；开放土壤布规划为漫灌/滴灌种植模式。中控区拥有供电、储水等公共系统。
* 硬件：
*温室区：布置有一块esp32控制：温湿度传感器、水培水位传感器，通过继电器控制的水泵、LED补光灯，以及被动通风天窗的舵机和主动通风的风扇。
  *开放土壤：布置有一块esp32控制：土壤湿度计，以及由继电器控制的水泵。
  *中控区：布置有一块esp32控制：光强传感器、降雨传感器、温湿度气压传感器、电池电量传感器；以及储水箱和供电系统。
* 功能：
温室区：
  *1、通过水培水位计实时监测水培槽水位，通过数据分析可以自行决策水泵的开关，实现水位维持。此外也可以远程手动/定时控制。
  *2、通过光强传感器实时监测户外环境光强，通过数据分析可自行决策LED补光系统的开关，为植物提供额外的光照，提高生产效益。此外也可以远程手动/定时控制。
  *3、通过温室度传感器，实时监测温室内的温湿度，通过数据分析可自行决策通风系统的开关。我们通风系统分为被动天窗通风（由舵机实现）和主动通风系统（由两路风扇实现）。此外也可以远程手动/定时控制。
  *4、通过温湿度监测和光强监测，结合当前水位进行神经网络运算，从而提前预判是否需要补水，对水培系统水位进行精细化运作。（实现中）
  *5、增加水培系统水营养成分传感器，并可结合数据分析自行补充对应营养成分，简化人工运作成本。（实现中）
开放土壤：
  *1、通过土壤湿度传感器实时监测土壤湿度，通过数据分析可自行决策水泵的开关，维持土壤湿度。此外也可以远程手动/定时控制。
  *2、通过温湿度监测和光强监测，结合当前土壤湿度进行神经网络运算，从而提前预判是否需要补水，对土壤灌溉进行精细化运作。（实现中）
  *3、通过土壤营养成分传感器（采购中）实时监测土壤状态，并提供循迹小车（已实现）实现无人化施肥、防治病虫害。
中控区：
  1、向农业系统提供UPS（不间断供电）电源，并通过esp32的ADC引脚，实时监测储备电量，用以解决农村地区停电对智慧农业系统的影响。
  2、通过降雨传感器、温湿度气压传感器、水箱水位计、光强传感器对天气情况进行全面监控，为智慧农业系统提供数据支持。
  3、可追光太阳能充电系统，提供绿色能源，应对特殊停电场景和峰谷电补偿。（完善中）
  4、通过openHarmony的分布式软总线，对传感器数据进行分布式储存、调用，实现中控区数据服务多端用户，减少成本。（实现中）
其他：
  1、



## 测试说明
> 测试时需要注意esp32需要全程联网  
> MySQL8使用的数据库名字为ohpm并且内部表存储的数据不能为空
> Maven需要为最新版且镜像源改为阿里镜像源



## 技术架构
> 前端：Arkts(展示、互动)、AXIOS(与后端通信)
> 后端：SpringBoot(接收前端以及硬件信息进行处理)、MyBatis(后端与数据库连接)、Mqtt服务器(接受、转发硬件与软件的信息)、TomCat(作为服务器的载体)
> 硬件：Http协议(请求后端发送、接受信息)、Mqtt(根据订阅主题转发信息至指定的开发)
> 数据库：MySQL(存储信息)


## 协作者
> 谭奕景、李隆豪、董卓璨、李文博、易烜、钱昀泽